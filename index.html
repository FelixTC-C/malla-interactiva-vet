<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <title>Malla Interactiva Técnico Veterinario</title>
  <style>
    body { font-family: Arial, sans-serif; max-width: 900px; margin: auto; padding: 20px; background: #f9f9f9; }
    h1 { text-align: center; }
    .semestre { margin-bottom: 15px; background: white; border-radius: 6px; box-shadow: 0 2px 6px rgba(0,0,0,0.1); }
    .semestre-header {
      padding: 10px 15px;
      background: #4a90e2;
      color: white;
      cursor: pointer;
      font-weight: bold;
      user-select: none;
      border-radius: 6px 6px 0 0;
    }
    .materias-list {
      display: none;
      padding: 10px 20px;
      max-height: 300px;
      overflow-y: auto;
    }
    .materia {
      padding: 8px;
      border-bottom: 1px solid #ddd;
      cursor: pointer;
    }
    .materia:hover {
      background-color: #e6f0ff;
    }
    .materia.active {
      background-color: #c2dafd;
      font-weight: bold;
    }
    #detalle {
      margin-top: 20px;
      background: white;
      padding: 15px;
      border-radius: 6px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
      min-height: 150px;
    }
    #search {
      width: 100%;
      padding: 10px;
      margin-bottom: 15px;
      border-radius: 6px;
      border: 1px solid #ccc;
      font-size: 16px;
      box-sizing: border-box;
    }
  </style>
</head>
<body>

  <h1>Malla Curricular - Técnico Veterinario</h1>
  
  <input type="text" id="search" placeholder="Buscar materia..." />

  <div id="malla"></div>

  <div id="detalle">
    <em>Selecciona una materia para ver detalles aquí.</em>
  </div>

  <script>
    const mallaData = [
      {
        semestre: "Primer Semestre",
        materias: [
          { nombre: "Exploración clínica", prerrequisitos: "", descripcion: "Asignatura básica sin prerrequisitos.", certificados: [] },
          { nombre: "Prevención y control de enfermedades", prerrequisitos: "", descripcion: "Prevención y control sanitario en animales.", certificados: [] },
          { nombre: "Dietas para la producción de animales", prerrequisitos: "", descripcion: "Nutrición y dietas para animales de producción.", certificados: [] },
          { nombre: "Habilidades básicas de comunicación", prerrequisitos: "", descripcion: "Comunicación efectiva en el entorno veterinario.", certificados: [] },
          { nombre: "Herramientas tecnológicas para la información y comunicación", prerrequisitos: "", descripcion: "Uso de tecnologías para el manejo de información.", certificados: [] },
          { nombre: "Nivelación matemática", prerrequisitos: "", descripcion: "Matemáticas básicas para veterinaria.", certificados: [] },
          { nombre: "Proceso portafolio", prerrequisitos: "", descripcion: "Desarrollo del portafolio académico.", certificados: [] }
        ]
      },
      {
        semestre: "Segundo Semestre",
        materias: [
          { nombre: "Asistencia quirúrgica", prerrequisitos: "Exploración clínica", descripcion: "Apoyo en procedimientos quirúrgicos.", certificados: [] },
          { nombre: "Enfermería clínica animal", prerrequisitos: "Prevención y control de enfermedades", descripcion: "Cuidados clínicos para animales.", certificados: [] },
          { nombre: "Reproducción y obstetricia pecuaria", prerrequisitos: "", descripcion: "Aspectos reproductivos y obstétricos en animales pecuarios.", certificados: [] },
          { nombre: "Habilidades de comunicación efectiva", prerrequisitos: "Habilidades básicas de comunicación", descripcion: "Comunicación avanzada en el campo veterinario.", certificados: [] },
          { nombre: "Técnicas de laboratorio", prerrequisitos: "", descripcion: "Procedimientos básicos de laboratorio.", certificados: [] },
          { nombre: "Proceso portafolio", prerrequisitos: "", descripcion: "Desarrollo del portafolio académico.", certificados: [] }
        ]
      },
      {
        semestre: "Tercer Semestre",
        materias: [
          { nombre: "Primeros auxilios en mascotas", prerrequisitos: "Enfermería clínica animal, Reproducción y obstetricia pecuaria", descripcion: "Atención inicial en emergencias veterinarias.", certificados: [] },
          { nombre: "Procedimientos quirúrgicos y terapéuticos en mascotas", prerrequisitos: "Enfermería clínica animal, Reproducción y obstetricia pecuaria", descripcion: "Técnicas quirúrgicas y terapéuticas para mascotas.", certificados: [] },
          { nombre: "Adiestramiento canino", prerrequisitos: "", descripcion: "Técnicas básicas de adiestramiento para perros.", certificados: [] },
          { nombre: "Aves", prerrequisitos: "", descripcion: "Cuidados y manejo de aves.", certificados: [] },
          { nombre: "Imagenología", prerrequisitos: "Técnicas de laboratorio", descripcion: "Uso de técnicas de imagen para diagnóstico.", certificados: [] },
          { nombre: "Inglés básico 1", prerrequisitos: "", descripcion: "Inglés básico aplicado a la veterinaria.", certificados: [] },
          { nombre: "Fundamentos de antropología", prerrequisitos: "", descripcion: "Bases antropológicas para el trabajo veterinario.", certificados: [] },
          { nombre: "Formación complementaria", prerrequisitos: "", descripcion: "Cursos complementarios varios.", certificados: [] },
          { nombre: "Proceso portafolio", prerrequisitos: "", descripcion: "Desarrollo del portafolio académico.", certificados: [] }
        ]
      },
      {
        semestre: "Cuarto Semestre",
        materias: [
          { nombre: "Mascotas exóticas", prerrequisitos: "", descripcion: "Manejo de mascotas no convencionales.", certificados: [] },
          { nombre: "Apoyo a la gestión de centros veterinarios", prerrequisitos: "", descripcion: "Administración y gestión en centros veterinarios.", certificados: [] },
          { nombre: "Cuidados estéticos", prerrequisitos: "", descripcion: "Técnicas de estética para animales.", certificados: [] },
          { nombre: "Labores de criaderos", prerrequisitos: "Reproducción y obstetricia pecuaria", descripcion: "Manejo y labores en criaderos.", certificados: [] },
          { nombre: "Mentalidad emprendedora", prerrequisitos: "", descripcion: "Desarrollo de habilidades emprendedoras.", certificados: [] },
          { nombre: "Inglés básico 2", prerrequisitos: "Inglés básico 1", descripcion: "Inglés intermedio aplicado.", certificados: [] },
          { nombre: "Ética para el trabajo", prerrequisitos: "Fundamentos de antropología", descripcion: "Valores y ética profesional.", certificados: [] },
          { nombre: "Curso formación cristiana", prerrequisitos: "", descripcion: "Formación religiosa y ética.", certificados: [] },
          { nombre: "Formación complementaria", prerrequisitos: "", descripcion: "Cursos complementarios varios.", certificados: [] },
          { nombre: "Proceso portafolio", prerrequisitos: "", descripcion: "Desarrollo del portafolio académico.", certificados: [] }
        ]
      },
      {
        semestre: "Quinto Semestre",
        materias: [
          { nombre: "Portafolio de título", prerrequisitos: "Proceso portafolio de todos los semestres", descripcion: "Presentación del portafolio final para título.", certificados: [] },
          { nombre: "Práctica profesional", prerrequisitos: "Todas las asignaturas de 1er a 4to semestre", descripcion: "Práctica en campo profesional veterinario.", certificados: [] }
        ]
      }
    ];

    const mallaDiv = document.getElementById('malla');
    const detalleDiv = document.getElementById('detalle');
    const searchInput = document.getElementById('search');

    function crearMalla(data) {
      mallaDiv.innerHTML = '';
      data.forEach((sem, i) => {
        const semDiv = document.createElement('div');
        semDiv.className = 'semestre';

        const header = document.createElement('div');
        header.className = 'semestre-header';
        header.textContent = sem.semestre;
        header.addEventListener('click', () => {
          const list = semDiv.querySelector('.materias-list');
          if (list.style.display === 'block') {
            list.style.display = 'none';
          } else {
            list.style.display = 'block';
          }
        });
        semDiv.appendChild(header);

        const list = document.createElement('div');
        list.className = 'materias-list';

        sem.materias.forEach((mat) => {
          const matDiv = document.createElement('div');
          matDiv.className = 'materia';
          matDiv.textContent = mat.nombre;
          matDiv.addEventListener('click', () => {
            // Quitar active de otras materias
            document.querySelectorAll('.materia').forEach(m => m.classList.remove('active'));
            matDiv.classList.add('active');

            mostrarDetalle(mat);
          });
          list.appendChild(matDiv);
        });

        semDiv.appendChild(list);
        mallaDiv.appendChild(semDiv);
      });
    }

    function mostrarDetalle(materia) {
      detalleDiv.innerHTML = `
        <h2>${materia.nombre}</h2>
        <p><strong>Prerrequisitos:</strong> ${materia.prerrequisitos ? materia.prerrequisitos : "Ninguno"}</p>
        <p><strong>Descripción:</strong> ${materia.descripcion}</p>
        <p><strong>Certificados:</strong> ${materia.certificados.length > 0 ? materia.certificados.join(', ') : 'Ninguno'}</p>
      `;
    }

    function filtrarMaterias() {
      const filtro = searchInput.value.toLowerCase();

      mallaData.forEach((sem) => {
        sem.materias.forEach(mat => {
          mat.visible = mat.nombre.toLowerCase().includes(filtro);
        });
      });

      // Actualizar la vista con solo materias visibles
      mallaDiv.querySelectorAll('.semestre').forEach((semDiv, i) => {
        const materiasDiv = semDiv.querySelector('.materias-list');
        const materias = materiasDiv.querySelectorAll('.materia');
        let anyVisible = false;

        materias.forEach((matDiv, j) => {
          const visible = mallaData[i].materias[j].visible;
          matDiv.style.display = visible ? 'block' : 'none';
          if (visible) anyVisible = true;
        });

        // Mostrar o esconder semestre según materias visibles
        materiasDiv.style.display = anyVisible ? 'block' : 'none';
        semDiv.querySelector('.semestre-header').style.display = anyVisible ? 'block' : 'none';
      });

      // Limpiar detalle si el seleccionado ya no es visible
      const activo = document.querySelector('.materia.active');
      if (activo && activo.style.display === 'none') {
        detalleDiv.innerHTML = `<em>Selecciona una materia para ver detalles aquí.</em>`;
      }
    }

    // Inicializar la malla completa
    crearMalla(mallaData);

    // Buscar mientras escribes
    searchInput.addEventListener('input', filtrarMaterias);

  </script>
</body>
</html>
